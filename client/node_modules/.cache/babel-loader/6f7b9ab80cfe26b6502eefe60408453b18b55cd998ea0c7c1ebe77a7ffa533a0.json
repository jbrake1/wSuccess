{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext.tsx';import{Link}from'react-router-dom';import api from'../services/api.ts';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Missions=()=>{const{user}=useAuth();const[missions,setMissions]=useState([]);const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);useEffect(()=>{if(user){api.get('/missions').then(response=>setMissions(response.data)).catch(()=>toast.error('Failed to load missions'));}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"missions-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Missions\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:async e=>{e.preventDefault();if(!title.trim()){toast.error('Title is required');return;}if(!description.trim()){toast.error('Description is required');return;}setIsSubmitting(true);try{const{data}=await api.post('/missions',{title,description,status:'pending'});setMissions([...missions,data]);setTitle('');setDescription('');toast.success('Mission created successfully');}catch(err){toast.error('Failed to create mission');}finally{setIsSubmitting(false);}},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Enter mission title\",required:true,disabled:isSubmitting}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Enter mission description\",required:true,disabled:isSubmitting}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,children:isSubmitting?'Creating...':'Create Mission'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"missions-list\",children:missions.map(mission=>/*#__PURE__*/_jsxs(\"div\",{className:\"mission-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:mission.title}),/*#__PURE__*/_jsx(\"p\",{children:mission.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",mission.status]}),mission.dueDate&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Due: \",new Date(mission.dueDate).toLocaleDateString()]}),/*#__PURE__*/_jsx(Link,{to:\"/missions/\".concat(mission._id,\"/collaborators/\").concat(encodeURIComponent(mission.title)),className:\"collaborators-link\",children:\"View Collaborators\"})]},mission._id))})]});};export default Missions;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Link","api","toast","jsx","_jsx","jsxs","_jsxs","Missions","user","missions","setMissions","title","setTitle","description","setDescription","isSubmitting","setIsSubmitting","get","then","response","data","catch","error","className","children","onSubmit","e","preventDefault","trim","post","status","success","err","type","value","onChange","target","placeholder","required","disabled","map","mission","dueDate","Date","toLocaleDateString","to","concat","_id","encodeURIComponent"],"sources":["/Users/jimmybrake/Documents/wSuccess/client/src/pages/Missions.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext.tsx';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api.ts';\nimport { toast } from 'react-toastify';\n\ninterface Mission {\n  _id: string;\n  title: string;\n  description?: string;\n  status: string;\n  dueDate?: string;\n}\n\nconst Missions = () => {\n  const { user } = useAuth();\n  const [missions, setMissions] = useState<Mission[]>([]);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      api.get('/missions')\n        .then(response => setMissions(response.data))\n        .catch(() => toast.error('Failed to load missions'));\n    }\n  }, [user]);\n\n  return (\n    <div className=\"missions-container\">\n      <h2>Missions</h2>\n      <form \n        onSubmit={async (e) => {\n          e.preventDefault();\n          if (!title.trim()) {\n            toast.error('Title is required');\n            return;\n          }\n          if (!description.trim()) {\n            toast.error('Description is required');\n            return;\n          }\n\n          setIsSubmitting(true);\n          try {\n            const { data } = await api.post('/missions', {\n              title,\n              description,\n              status: 'pending'\n            });\n            setMissions([...missions, data]);\n            setTitle('');\n            setDescription('');\n            toast.success('Mission created successfully');\n          } catch (err) {\n            toast.error('Failed to create mission');\n          } finally {\n            setIsSubmitting(false);\n          }\n        }}\n      >\n        <input\n          type=\"text\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          placeholder=\"Enter mission title\"\n          required\n          disabled={isSubmitting}\n        />\n        <textarea\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"Enter mission description\"\n          required\n          disabled={isSubmitting}\n        />\n        <button type=\"submit\" disabled={isSubmitting}>\n          {isSubmitting ? 'Creating...' : 'Create Mission'}\n        </button>\n      </form>\n\n      <div className=\"missions-list\">\n        {missions.map(mission => (\n          <div key={mission._id} className=\"mission-item\">\n            <h3>{mission.title}</h3>\n            <p>{mission.description}</p>\n            <p>Status: {mission.status}</p>\n            {mission.dueDate && <p>Due: {new Date(mission.dueDate).toLocaleDateString()}</p>}\n            <Link \n              to={`/missions/${mission._id}/collaborators/${encodeURIComponent(mission.title)}`}\n              className=\"collaborators-link\"\n            >\n              View Collaborators\n            </Link>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Missions;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CACpC,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAUvC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,IAAK,CAAC,CAAGT,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACkB,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEvDC,SAAS,CAAC,IAAM,CACd,GAAIU,IAAI,CAAE,CACRP,GAAG,CAACgB,GAAG,CAAC,WAAW,CAAC,CACjBC,IAAI,CAACC,QAAQ,EAAIT,WAAW,CAACS,QAAQ,CAACC,IAAI,CAAC,CAAC,CAC5CC,KAAK,CAAC,IAAMnB,KAAK,CAACoB,KAAK,CAAC,yBAAyB,CAAC,CAAC,CACxD,CACF,CAAC,CAAE,CAACd,IAAI,CAAC,CAAC,CAEV,mBACEF,KAAA,QAAKiB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCpB,IAAA,OAAAoB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBlB,KAAA,SACEmB,QAAQ,CAAE,KAAO,CAAAC,CAAC,EAAK,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAAChB,KAAK,CAACiB,IAAI,CAAC,CAAC,CAAE,CACjB1B,KAAK,CAACoB,KAAK,CAAC,mBAAmB,CAAC,CAChC,OACF,CACA,GAAI,CAACT,WAAW,CAACe,IAAI,CAAC,CAAC,CAAE,CACvB1B,KAAK,CAACoB,KAAK,CAAC,yBAAyB,CAAC,CACtC,OACF,CAEAN,eAAe,CAAC,IAAI,CAAC,CACrB,GAAI,CACF,KAAM,CAAEI,IAAK,CAAC,CAAG,KAAM,CAAAnB,GAAG,CAAC4B,IAAI,CAAC,WAAW,CAAE,CAC3ClB,KAAK,CACLE,WAAW,CACXiB,MAAM,CAAE,SACV,CAAC,CAAC,CACFpB,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEW,IAAI,CAAC,CAAC,CAChCR,QAAQ,CAAC,EAAE,CAAC,CACZE,cAAc,CAAC,EAAE,CAAC,CAClBZ,KAAK,CAAC6B,OAAO,CAAC,8BAA8B,CAAC,CAC/C,CAAE,MAAOC,GAAG,CAAE,CACZ9B,KAAK,CAACoB,KAAK,CAAC,0BAA0B,CAAC,CACzC,CAAC,OAAS,CACRN,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAE,CAAAQ,QAAA,eAEFpB,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEvB,KAAM,CACbwB,QAAQ,CAAGT,CAAC,EAAKd,QAAQ,CAACc,CAAC,CAACU,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,qBAAqB,CACjCC,QAAQ,MACRC,QAAQ,CAAExB,YAAa,CACxB,CAAC,cACFX,IAAA,aACE8B,KAAK,CAAErB,WAAY,CACnBsB,QAAQ,CAAGT,CAAC,EAAKZ,cAAc,CAACY,CAAC,CAACU,MAAM,CAACF,KAAK,CAAE,CAChDG,WAAW,CAAC,2BAA2B,CACvCC,QAAQ,MACRC,QAAQ,CAAExB,YAAa,CACxB,CAAC,cACFX,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAACM,QAAQ,CAAExB,YAAa,CAAAS,QAAA,CAC1CT,YAAY,CAAG,aAAa,CAAG,gBAAgB,CAC1C,CAAC,EACL,CAAC,cAEPX,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3Bf,QAAQ,CAAC+B,GAAG,CAACC,OAAO,eACnBnC,KAAA,QAAuBiB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC7CpB,IAAA,OAAAoB,QAAA,CAAKiB,OAAO,CAAC9B,KAAK,CAAK,CAAC,cACxBP,IAAA,MAAAoB,QAAA,CAAIiB,OAAO,CAAC5B,WAAW,CAAI,CAAC,cAC5BP,KAAA,MAAAkB,QAAA,EAAG,UAAQ,CAACiB,OAAO,CAACX,MAAM,EAAI,CAAC,CAC9BW,OAAO,CAACC,OAAO,eAAIpC,KAAA,MAAAkB,QAAA,EAAG,OAAK,CAAC,GAAI,CAAAmB,IAAI,CAACF,OAAO,CAACC,OAAO,CAAC,CAACE,kBAAkB,CAAC,CAAC,EAAI,CAAC,cAChFxC,IAAA,CAACJ,IAAI,EACH6C,EAAE,cAAAC,MAAA,CAAeL,OAAO,CAACM,GAAG,oBAAAD,MAAA,CAAkBE,kBAAkB,CAACP,OAAO,CAAC9B,KAAK,CAAC,CAAG,CAClFY,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAC/B,oBAED,CAAM,CAAC,GAVCiB,OAAO,CAACM,GAWb,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}